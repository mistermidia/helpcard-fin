(function(c,y){"use strict";var a,z=c.document,A=c.Modernizr,B=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},d=["Moz","Webkit","O","Ms"],b=function(f){var g,i=z.documentElement.style;if("string"==typeof i[f])return f;f=B(f);for(var b=0,j=d.length;b<j;b++)if(g=d[b]+f,"string"==typeof i[g])return g},C=b("transform"),f=b("transitionProperty"),g={csstransforms:function(){return!!C},csstransforms3d:function(){var c=!!b("perspective");if(c){var g="@media ("+["","-o-","-moz-","-ms-","-webkit-","-khtml-",""].join("transform-3d),(")+"modernizr)",d=y("<style>"+g+"{#modernizr{height:3px}}</style>").appendTo("head"),e=y("<div id=\"modernizr\" />").appendTo("html");c=3===e.height(),e.remove(),d.remove()}return c},csstransitions:function(){return!!f}};if(A)for(a in g)A.hasOwnProperty(a)||A.addTest(a,g[a]);else{A=c.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h,i=" ";for(a in g)h=g[a](),A[a]=h,i+=" "+(h?"":"no-")+a;y("html").addClass(i)}if(A.csstransforms){var k=A.csstransforms3d?{translate:function(b){return"translate3d("+b[0]+"px, "+b[1]+"px, 0) "},scale:function(b){return"scale3d("+b+", "+b+", 1) "}}:{translate:function(b){return"translate("+b[0]+"px, "+b[1]+"px) "},scale:function(b){return"scale("+b+") "}},j=function(b,a,c){var d,i,m=y.data(b,"isoTransform")||{},e={},f={};for(d in e[a]=c,y.extend(m,e),m)i=m[d],f[d]=k[d](i);var h=f.translate||"",n=f.scale||"";y.data(b,"isoTransform",m),b.style[C]=h+n};y.cssNumber.scale=!0,y.cssHooks.scale={set:function(c,a){j(c,"scale",a)},get:function(b){var a=y.data(b,"isoTransform");return a&&a.scale?a.scale:1}},y.fx.step.scale=function(b){y.cssHooks.scale.set(b.elem,b.now+b.unit)},y.cssNumber.translate=!0,y.cssHooks.translate={set:function(c,a){j(c,"translate",a)},get:function(b){var a=y.data(b,"isoTransform");return a&&a.translate?a.translate:[0,0]}}}var o,D;A.csstransitions&&(o={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f],D=b("transitionDuration"));var p,E=y.event,s=y.event.handle?"handle":"dispatch";E.special.smartresize={setup:function(){y(this).bind("resize",E.special.smartresize.handler)},teardown:function(){y(this).unbind("resize",E.special.smartresize.handler)},handler:function(e,a){var b=this,c=arguments;e.type="smartresize",p&&clearTimeout(p),p=setTimeout(function(){E[s].apply(b,c)},"execAsap"===a?0:100)}},y.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},y.Isotope=function(b,a,c){this.element=y(a),this._create(b),this._init(c)};var t=["width","height"],v=y(c);y.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},y.Isotope.prototype={_create:function(b){this.options=y.extend({},y.Isotope.settings,b),this.styleQueue=[],this.elemCount=0;var a=this.element[0].style;this.originalStyle={};var c=t.slice(0);for(var d in this.options.containerStyle)c.push(d);for(var h=0,j=c.length;h<j;h++)d=c[h],this.originalStyle[d]=a[d]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();this.options.getSortData=y.extend(this.options.getSortData,{"original-order":function(c,a){return a.elemCount++,a.elemCount},random:function(){return Math.random()}}),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var g=this;setTimeout(function(){g.element.addClass(g.options.containerClass)},0),this.options.resizable&&v.bind("smartresize.isotope",function(){g.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var a=this.options.itemSelector,b=a?e.filter(a).add(e.find(a)):e,f={position:"absolute"};return b=b.filter(function(c,a){return 1===a.nodeType}),this.usingTransforms&&(f.left=0,f.top=0),b.css(f).addClass(this.options.itemClass),this.AtualizaçõesortData(b,!0),b},_init:function(b){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(b)},option:function(b){if(y.isPlainObject(b)){this.options=y.extend(!0,this.options,b);var a;for(var e in b)a="_update"+B(e),this[a]&&this[a]()}},_updateAnimationEngine:function(){var c,d=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");c="css"!==d&&"none"!==d&&(!("jquery"!==d)||!A.csstransitions);this.isUsingJQueryAnimation=c,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var b=this.usingTransforms=this.options.transformsEnabled&&A.csstransforms&&A.csstransitions&&!this.isUsingJQueryAnimation;b||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=b?this._translate:this._positionAbs},_filter:function(h){var a=""===this.options.filter?"*":this.options.filter;if(!a)return h;var b=this.options.hiddenClass,c="."+b,d=h.filter(c),e=d;if("*"!==a){e=d.filter(a);var i=h.not(c).not(a).addClass(b);this.styleQueue.push({$el:i,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:e,style:this.options.visibleStyle}),e.removeClass(b),h.filter(a)},AtualizaçõesortData:function(b,h){var c,i,j=this,d=this.options.getSortData;b.each(function(){for(var b in c=y(this),i={},d)i[b]=h||"original-order"!==b?d[b](c,j):y.data(this,"isotope-sort-data")[b];y.data(this,"isotope-sort-data",i)})},_sort:function(){var h=this.options.sortBy,a=this._getSorter,b=this.options.sortAscending?1:-1,c=function(c,d){var e=a(c,h),i=a(d,h);return e===i&&"original-order"!==h&&(e=a(c,"original-order"),i=a(d,"original-order")),(e>i?1:e<i?-1:0)*b};this.$filteredAtoms.sort(c)},_getSorter:function(b,a){return y.data(b,"isotope-sort-data")[a]},_translate:function(c,a){return{translate:[c,a]}},_positionAbs:function(c,a){return{left:c,top:a}},_pushPosition:function(e,a,f){a=Math.round(a+this.offset.left),f=Math.round(f+this.offset.top);var g=this.getPositionStyles(a,f);this.styleQueue.push({$el:e,style:g}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:a,y:f})},layout:function(e,a){var b=this.options.layoutMode;if(this["_"+b+"Layout"](e),this.options.resizesContainer){var c=this["_"+b+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:c})}this._processStyleQueue(e,a),this.isLaidOut=!0},_processStyleQueue:function(e,a){var c,b,q,r,v=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",d=this.options.animationOptions,f=this.options.onLayout;if(b=function(c,a){a.$el[v](a.style,d)},this._isInserting&&this.isUsingJQueryAnimation)b=function(e,a){c=a.$el.hasClass("no-transition")?"css":v,a.$el[c](a.style,d)};else if(a||f||d.complete){var g=!1,w=[a,f,d.complete],m=this;if(q=!0,r=function(){if(!g){for(var a,f=0,h=w.length;void 0>f;f++)a=w[f],"function"==typeof a&&a.call(m.element,e,m);g=!0}},this.isUsingJQueryAnimation&&"animate"===v)d.complete=r,q=!1;else if(A.csstransitions){for(var n,x=0,z=this.styleQueue[0],p=z&&z.$el;!p||!p.length;){if(n=this.styleQueue[x++],!n)return;p=n.$el}var B=parseFloat(getComputedStyle(p[0])[D]);0<B&&(b=function(c,a){a.$el[v](a.style,d).one(o,r)},q=!1)}}y.each(this.styleQueue,b),q&&r(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(b){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,b)},addItems:function(d,a){var b=this._getAtoms(d);this.$allAtoms=this.$allAtoms.add(b),a&&a(b)},insert:function(d,e){this.element.append(d);var b=this;this.addItems(d,function(c){var a=b._filter(c);b._addHideAppended(a),b._sort(),b.reLayout(),b._revealAppended(a,e)})},appended:function(d,e){var b=this;this.addItems(d,function(c){b._addHideAppended(c),b.layout(c),b._revealAppended(c,e)})},_addHideAppended:function(b){this.$filteredAtoms=this.$filteredAtoms.add(b),b.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:b,style:this.options.hiddenStyle})},_revealAppended:function(d,a){var b=this;setTimeout(function(){d.removeClass("no-transition"),b.styleQueue.push({$el:d,style:b.options.visibleStyle}),b._isInserting=!1,b._processStyleQueue(d,a)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,a){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var b=this,c=function(){e.remove(),a&&a.call(b.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(c)):c()},shuffle:function(b){this.AtualizaçõesortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(b)},destroy:function(){var e=this.usingTransforms,a=this.options;this.$allAtoms.removeClass(a.hiddenClass+" "+a.itemClass).each(function(){var a=this.style;a.position="",a.top="",a.left="",a.opacity="",e&&(a[C]="")});var b=this.element[0].style;for(var c in this.originalStyle)b[c]=this.originalStyle[c];this.element.unbind(".isotope").undelegate("."+a.hiddenClass,"click").removeClass(a.containerClass).removeData("isotope"),v.unbind(".isotope")},_getSegments:function(f){var a,j=this.options.layoutMode,b=f?"rowHeight":"columnWidth",c=f?"height":"width",d=f?"rows":"cols",e=this.element[c](),g=this.options[j]&&this.options[j][b]||this.$filteredAtoms["outer"+B(c)](!0)||e;a=Math.floor(e/g),a=Math.max(a,1),this[j][d]=a,this[j][b]=g},_checkIfSegmentsChanged:function(e){var a=this.options.layoutMode,b=e?"rows":"cols",c=this[a][b];return this._getSegments(e),this[a][b]!==c},_masonryReset:function(){this.masonry={},this._getSegments();var b=this.masonry.cols;for(this.masonry.colYs=[];b--;)this.masonry.colYs.push(0)},_masonryLayout:function(b){var j=this,c=j.masonry;b.each(function(){var b=y(this),a=Math.ceil(b.outerWidth(!0)/c.columnWidth);if(a=Math.min(a,c.cols),1===a)j._masonryPlaceBrick(b,c.colYs);else{var d,k,l=c.cols+1-a,f=[];for(k=0;k<l;k++)d=c.colYs.slice(k,k+a),f[k]=Math.max.apply(Math,d);j._masonryPlaceBrick(b,f)}})},_masonryPlaceBrick:function(h,a){for(var b=Math.min.apply(Math,a),c=0,k=0,l=a.length;k<l;k++)if(a[k]===b){c=k;break}var f=this.masonry.columnWidth*c;this._pushPosition(h,f,b);var g=b+h.outerHeight(!0),i=this.masonry.cols+1-l;for(k=0;k<i;k++)this.masonry.colYs[c+k]=g},_masonryGetContainerSize:function(){var b=Math.max.apply(Math,this.masonry.colYs);return{height:b}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(b){var h=this,c=this.element.width(),d=this.fitRows;b.each(function(){var b=y(this),a=b.outerWidth(!0),e=b.outerHeight(!0);0!==d.x&&a+d.x>c&&(d.x=0,d.y=d.height),h._pushPosition(b,d.x,d.y),d.height=Math.max(d.y+e,d.height),d.x+=a})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(b){var i=this,c=this.cellsByRow;b.each(function(){var b=y(this),a=c.index%c.cols,d=Math.floor(c.index/c.cols),e=(a+.5)*c.columnWidth-b.outerWidth(!0)/2,f=(d+.5)*c.rowHeight-b.outerHeight(!0)/2;i._pushPosition(b,e,f),c.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(b){var a=this;b.each(function(){var b=y(this);a._pushPosition(b,0,a.straightDown.y),a.straightDown.y+=b.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var b=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];b--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(b){var j=this,c=j.masonryHorizontal;b.each(function(){var b=y(this),a=Math.ceil(b.outerHeight(!0)/c.rowHeight);if(a=Math.min(a,c.rows),1===a)j._masonryHorizontalPlaceBrick(b,c.rowXs);else{var d,k,l=c.rows+1-a,f=[];for(k=0;k<l;k++)d=c.rowXs.slice(k,k+a),f[k]=Math.max.apply(Math,d);j._masonryHorizontalPlaceBrick(b,f)}})},_masonryHorizontalPlaceBrick:function(g,a){for(var b=Math.min.apply(Math,a),c=0,k=0,l=a.length;k<l;k++)if(a[k]===b){c=k;break}var f=this.masonryHorizontal.rowHeight*c;this._pushPosition(g,b,f);var h=b+g.outerWidth(!0),i=this.masonryHorizontal.rows+1-l;for(k=0;k<i;k++)this.masonryHorizontal.rowXs[c+k]=h},_masonryHorizontalGetContainerSize:function(){var b=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:b}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(b){var h=this,c=this.element.height(),d=this.fitColumns;b.each(function(){var b=y(this),a=b.outerWidth(!0),e=b.outerHeight(!0);0!==d.y&&e+d.y>c&&(d.x=d.width,d.y=0),h._pushPosition(b,d.x,d.y),d.width=Math.max(d.x+a,d.width),d.y+=e})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(b){var i=this,c=this.cellsByColumn;b.each(function(){var b=y(this),a=Math.floor(c.index/c.rows),d=c.index%c.rows,e=(a+.5)*c.columnWidth-b.outerWidth(!0)/2,f=(d+.5)*c.rowHeight-b.outerHeight(!0)/2;i._pushPosition(b,e,f),c.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(b){var a=this;b.each(function(){var b=y(this);a._pushPosition(b,a.straightAcross.x,0),a.straightAcross.x+=b.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},y.fn.imagesLoaded=function(b){function j(){b.call(a,i)}function h(b){var a=b.target;a.src!==k&&-1===y.inArray(a,f)&&(f.push(a),0>=--d&&(setTimeout(j),i.unbind(".imagesLoaded",h)))}var a=this,i=a.find("img").add(a.filter("img")),d=i.length,k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",f=[];return d||j(),i.bind("load.imagesLoaded error.imagesLoaded",h).each(function(){var b=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=b}),a};var w=function(a){c.console&&c.console.error(a)};y.fn.isotope=function(b,a){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var a=y.data(this,"isotope");return a?y.isFunction(a[b])&&"_"!==b.charAt(0)?void a[b].apply(a,e):void w("no such method '"+b+"' for isotope instance"):void w("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){var c=y.data(this,"isotope");c?(c.option(b),c._init(a)):y.data(this,"isotope",new y.Isotope(b,this,a))});return this}})(window,jQuery);